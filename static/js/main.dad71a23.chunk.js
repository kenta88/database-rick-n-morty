(this["webpackJsonpdatabase-rick-n-morty"]=this["webpackJsonpdatabase-rick-n-morty"]||[]).push([[0],[,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/logo-rick-n-morty.005e3536.png"},,function(e,t,a){e.exports=a(24)},,,,,function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(7),o=a.n(c),s=(a(16),a(5)),i=a.n(s),l=a(8),u=a(1),m=a(2),h=a(4),f=a(3),p=(a(18),a(9)),d=a.n(p);var g=function(){return r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"container"},r.a.createElement("img",{src:d.a,alt:"logo"})))},v=a(10);a(19);var E=function(e){var t=e.character,a=e.isSelected,n=e.onSelectChange,c=a?"selected":"";return r.a.createElement("div",{className:"card ".concat(c)},r.a.createElement("img",{src:t.image,alt:t.name}),r.a.createElement("div",{className:"card-info"},r.a.createElement("p",{className:"card-info__name"},r.a.createElement("span",null,"Name:"),t.name),r.a.createElement("p",{className:"card-info__generics"},t.species," ",r.a.createElement("span",null,"from")," ",t.location.name)),r.a.createElement("button",{className:"favourite",onClick:function(){n(t.id,a)}},a?"Remove":"Add"))},b=(a(20),function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(){var e;return Object(u.a)(this,a),(e=t.call(this)).onSelectChange=function(t,a){var n=Object(v.a)(e.state.favourites);a?n=n.filter((function(e){return e!==t})):n.push(t),e.setState({favourites:n})},e.state={favourites:[]},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.characters,n=t.isLoading,c=this.state.favourites;return r.a.createElement("div",{className:"container grid"},a.map((function(t){return r.a.createElement(E,{key:t.id,character:t,isSelected:c.includes(t.id),onSelectChange:e.onSelectChange})})),n&&r.a.createElement("div",{className:"loading"},r.a.createElement("p",null,"Loading ...")))}}]),a}(r.a.Component)),C=(a(21),function(e){var t=e.currentPage,a=e.onChange,n=e.totalPages;return r.a.createElement("div",{className:"container paginator"},r.a.createElement("button",{onClick:function(){var e=t-1;e>0&&a(e)}},"Prev"),r.a.createElement("p",null,"Page ",r.a.createElement("span",null,t)," of ",n),r.a.createElement("button",{onClick:function(){var e=t+1;e<=n&&a(e)}},"Next"))}),S=(a(22),function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(){var e;return Object(u.a)(this,a),(e=t.call(this)).onInputChange=function(t){e.setState({searchKey:t.target.value})},e.onClickSubmit=function(){e.props.onSubmit(e.state.searchKey)},e.state={searchKey:""},e}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"container search-box"},r.a.createElement("input",{type:"text",placeholder:"Search",onChange:this.onInputChange}),r.a.createElement("button",{onClick:this.onClickSubmit},">"))}}]),a}(r.a.Component)),k=(a(23),function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(){var e;return Object(u.a)(this,a),(e=t.call(this)).componentDidMount=function(){e.fetchCharacters()},e.componentDidUpdate=function(t,a){a.currentPage===e.state.currentPage&&a.searchKey===e.state.searchKey||e.fetchCharacters()},e.fetchCharacters=Object(l.a)(i.a.mark((function t(){var a,n,r,c,o,s,l;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=e.state,n=a.currentPage,r=a.searchKey,e.setState({isLoading:!0}),c=new URL("https://rickandmortyapi.com/api/character"),o={page:n,name:r},Object.keys(o).forEach((function(e){c.searchParams.append(e,o[e])})),t.next=8,fetch(c);case 8:return s=t.sent,t.next=11,s.json();case 11:l=t.sent,e.setState({characters:l.results,totalPages:l.info.pages}),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),console.log(t.t0);case 18:return t.prev=18,e.setState({isLoading:!1}),t.finish(18);case 21:case"end":return t.stop()}}),t,null,[[0,15,18,21]])}))),e.onPaginatorChange=function(t){e.setState({currentPage:t})},e.onSubmitSearch=function(t){e.setState({searchKey:t})},e.state={searchKey:"",currentPage:1,totalPages:1,isLoading:!1,characters:[]},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.state,t=e.characters,a=e.isLoading,n=e.currentPage,c=e.totalPages;return r.a.createElement("div",{className:"App"},r.a.createElement(g,null),r.a.createElement(S,{onSubmit:this.onSubmitSearch}),r.a.createElement(b,{characters:t,isLoading:a}),r.a.createElement(C,{currentPage:n,onChange:this.onPaginatorChange,totalPages:c}))}}]),a}(r.a.Component));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(k,null)),document.getElementById("root"))}],[[11,1,2]]]);
//# sourceMappingURL=main.dad71a23.chunk.js.map